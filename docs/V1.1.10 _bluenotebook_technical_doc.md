# BlueNotebook - Documentation Technique V1.1.11S

## Table des matiÃ¨res

1. [Vue d'ensemble](#vue-densemble)
2. [Architecture et choix techniques](#architecture-et-choix-techniques)
3. [Arborescence des fichiers](#arborescence-des-fichiers)
4. [Description des composants](#description-des-composants)
5. [FonctionnalitÃ©s dÃ©taillÃ©es](#fonctionnalitÃ©s-dÃ©taillÃ©es)
6. [Performance et optimisations](#performance-et-optimisations)
7. [Ã‰volutions possibles](#Ã©volutions-possibles)

---

## Vue d'ensemble

**BlueNotebook** est un Ã©diteur de texte Markdown moderne dÃ©veloppÃ© en Python, conÃ§u pour offrir une expÃ©rience d'Ã©dition fluide avec un aperÃ§u en temps rÃ©el. L'application combine la simplicitÃ© de la syntaxe Markdown avec la puissance d'un rendu HTML professionnel.

### SpÃ©cifications techniques

- **Langage** : Python 3.7+
- **Framework GUI** : PyQt5
- **Moteur de rendu** : QWebEngine (Chromium)
- **Parser Markdown** : python-markdown avec extensions
- **Coloration syntaxique** : Pygments
- **Architecture** : MVC (Model-View-Controller)
- **Plateforme** : Cross-platform (Windows, macOS, Linux)

---

## Architecture et choix techniques

### Paradigme architectural

L'application suit une architecture **MVC modifiÃ©e** adaptÃ©e aux applications desktop :

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      Model      â”‚    â”‚      View       â”‚    â”‚   Controller    â”‚
â”‚                 â”‚    â”‚                 â”‚    â”‚                 â”‚
â”‚  â€¢ FileHandler  â”‚â—„â”€â”€â–ºâ”‚  â€¢ MainWindow   â”‚â—„â”€â”€â–ºâ”‚  â€¢ MainWindow   â”‚
â”‚  â€¢ MarkdownParserâ”‚    â”‚  â€¢ Editor       â”‚    â”‚  â€¢ Event Logic  â”‚
â”‚                 â”‚    â”‚  â€¢ Preview      â”‚    â”‚                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Choix de PyQt5 vs alternatives

| CritÃ¨re | PyQt5 | Tkinter | Electron | PySide6 |
|---------|-------|---------|----------|---------|
| **Performance** | â­â­â­â­â­ | â­â­â­ | â­â­ | â­â­â­â­â­ |
| **Rendu HTML** | â­â­â­â­â­ | â­ | â­â­â­â­â­ | â­â­â­â­â­ |
| **Natif** | â­â­â­â­â­ | â­â­â­â­ | â­â­ | â­â­â­â­â­ |
| **Distribution** | â­â­â­â­ | â­â­â­â­â­ | â­â­ | â­â­â­ |
| **Ã‰cosystÃ¨me** | â­â­â­â­â­ | â­â­â­ | â­â­â­â­ | â­â­â­â­ |

**Justification** : PyQt5 a Ã©tÃ© choisi pour :
- **QWebEngine** : Moteur Chromium intÃ©grÃ© pour rendu HTML parfait
- **MaturitÃ©** : Ã‰cosystÃ¨me stable et documentation complÃ¨te
- **Performance** : Applications natives, pas de VM JavaScript
- **FonctionnalitÃ©s** : Widgets avancÃ©s, systÃ¨me de signaux/slots

### Architecture des donnÃ©es

```python
# Flux de donnÃ©es unidirectionnel
Markdown Text (Editor) â†’ Parser â†’ HTML â†’ QWebEngine (Preview)
     â†‘                                            â†“
File I/O â†â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ User Actions â”€â”€â”€â”€â”€â”€â”€â”€ DOM Events
```

---

## Arborescence des fichiers

```
bluenotebook/
â”œâ”€â”€ main.py                     # Point d'entrÃ©e de l'application
â”œâ”€â”€ requirements.txt            # DÃ©pendances Python
â”œâ”€â”€ run_bluenotebook.sh         # Script de lancement pour Linux/macOS
â”œâ”€â”€ README.md                   # Documentation utilisateur
â”œâ”€â”€ .gitignore                  # Exclusions Git
â”‚
â”œâ”€â”€ gui/                        # Interface utilisateur (Vue)
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ main_window.py          # FenÃªtre principale et orchestration
â”‚   â”œâ”€â”€ editor.py               # Composant Ã©diteur de texte
â”‚   â””â”€â”€ preview.py              # Composant aperÃ§u HTML
â”‚
â”œâ”€â”€ core/                       # Logique mÃ©tier (ModÃ¨le)
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ markdown_parser.py      # Traitement Markdown â†’ HTML
â”‚   â””â”€â”€ file_handler.py         # Gestion des fichiers I/O
â”‚
â”œâ”€â”€ resources/                  # Ressources statiques
â”‚   â”œâ”€â”€ icons/                  # IcÃ´nes de l'application
â”‚   â”‚   â”œâ”€â”€ bluenotebook.ico    # IcÃ´ne Windows
â”‚   â”‚   â”œâ”€â”€ bluenotebook.png    # IcÃ´ne universelle
â”‚   â”‚   â”œâ”€â”€ bluenotebook.svg    # IcÃ´ne vectorielle
â”‚   â”‚   â””â”€â”€ create_icons.py     # GÃ©nÃ©rateur d'icÃ´nes
â”‚   â””â”€â”€ styles.css              # Styles CSS (non utilisÃ© actuellement)
â”‚   â””â”€â”€ html/                     # Pages HTML statiques
â”‚       â””â”€â”€ bluenotebook_aide_en_ligne.html # Fichier d'aide
â”‚
â””â”€â”€ tests/                      # Tests unitaires
    â”œâ”€â”€ __init__.py
    â”œâ”€â”€ test_markdown_parser.py # Tests du parser
    â””â”€â”€ test_file_handler.py    # Tests I/O fichiers
```

### Justification de l'organisation

- **SÃ©paration des responsabilitÃ©s** : GUI, logique mÃ©tier, et ressources sÃ©parÃ©es
- **ModularitÃ©** : Chaque composant peut Ãªtre testÃ© et modifiÃ© indÃ©pendamment  
- **ExtensibilitÃ©** : Ajout facile de nouveaux composants GUI ou parsers
- **MaintenabilitÃ©** : Structure claire pour nouveaux dÃ©veloppeurs

---

## Description des composants

### 1. Main Window (`gui/main_window.py`)

**RÃ´le** : Orchestrateur principal, gestion des Ã©vÃ©nements et coordination des composants.

```python
class MainWindow(QMainWindow):
    # ResponsabilitÃ©s :
    # - Gestion du cycle de vie de l'application
    # - Coordination Editor â†” Preview
    # - Menus et raccourcis clavier
    # - Gestion des fichiers (ouverture, sauvegarde)
    # - Interface avec l'OS (barre de statut, titre)
```

**FonctionnalitÃ©s clÃ©s** :
- **Timer de mise Ã  jour** : Ã‰vite les rafraÃ®chissements trop frÃ©quents (300ms)
- **Gestion d'Ã©tat** : Suivi des modifications, fichier actuel
- **Signaux PyQt5** : Communication asynchrone entre composants
- **Validation de fermeture** : Protection contre la perte de donnÃ©es

### 2. Editor (`gui/editor.py`)

**RÃ´le** : Ã‰diteur de texte avec coloration syntaxique Markdown.

```python
class MarkdownEditor(QWidget):
    # Composants intÃ©grÃ©s :
    # - QTextEdit : Zone de saisie
    # - MarkdownHighlighter : Coloration syntaxique
    # - FindDialog : Recherche et remplacement
```

**Architecture de la coloration syntaxique** :

```python
class MarkdownHighlighter(QSyntaxHighlighter):
    def highlightBlock(self, text):
        # Regex patterns pour :
        # - Titres (# ## ###)
        # - Emphases (**gras**, *italique*)  
        # - Code (`inline`, ```blocks```)
        # - Liens [text](url)
        # - Citations (> text)
        # - Listes (-, *, 1.)
```

**Optimisations** :
- **Highlighting en temps rÃ©el** : QSyntaxHighlighter intÃ©grÃ© Ã  QTextDocument
- **Police monospace** : Consolas/Monaco pour lisibilitÃ© du code
- **SÃ©lection intelligente** : PrÃ©servation du contexte lors des recherches

### 3. Preview (`gui/preview.py`)

**RÃ´le** : Rendu HTML en temps rÃ©el avec QWebEngine.

```python
class MarkdownPreview(QWidget):
    # Pipeline de rendu :
    # Markdown â†’ python-markdown â†’ HTML + CSS â†’ QWebEngine
```

**Architecture du rendu** :

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Markdown      â”‚    â”‚   Extensions    â”‚    â”‚   HTML + CSS    â”‚
â”‚   Raw Text      â”‚â”€â”€â”€â–ºâ”‚   Processing    â”‚â”€â”€â”€â–ºâ”‚   Final Render  â”‚
â”‚                 â”‚    â”‚                 â”‚    â”‚                 â”‚
â”‚  - Headers      â”‚    â”‚  - Tables       â”‚    â”‚  - GitHub Style â”‚
â”‚  - Emphasis     â”‚    â”‚  - Code blocks  â”‚    â”‚  - Syntax HL    â”‚
â”‚  - Lists        â”‚    â”‚  - TOC          â”‚    â”‚  - Responsive   â”‚
â”‚  - Links        â”‚    â”‚  - Footnotes    â”‚    â”‚  - Print ready  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Extensions Markdown utilisÃ©es** :
- `tables` : Support des tableaux GitHub
- `fenced_code` : Blocs de code avec ```
- `codehilite` : Coloration syntaxique via Pygments
- `toc` : Table des matiÃ¨res automatique
- `attr_list` : Attributs HTML personnalisÃ©s
- `footnotes` : Notes de bas de page
- `sane_lists` : Parsing amÃ©liorÃ© des listes

**CSS intÃ©grÃ©** :
- **Reset CSS** moderne pour cohÃ©rence
- **Typography** optimisÃ©e (line-height, spacing)
- **Responsive design** pour diffÃ©rentes tailles
- **Print styles** pour export PDF futur
- **GitHub-like** styling pour familiaritÃ©

### 4. Core Components

#### MarkdownParser (`core/markdown_parser.py`)

```python
class MarkdownParser:
    def __init__(self):
        self.md = markdown.Markdown(extensions=[...])
    
    def to_html(self, markdown_text: str) -> str:
        # Conversion avec gestion d'erreurs
        # Reset du parser pour Ã©viter les conflits
        # Cache des extensions coÃ»teuses
```

#### FileHandler (`core/file_handler.py`)

```python
class FileHandler:
    # MÃ©thodes statiques pour :
    # - read_file() : Lecture avec fallback encoding
    # - write_file() : Ã‰criture UTF-8
    # - is_markdown_file() : Validation extensions
    # - get_backup_path() : GÃ©nÃ©ration chemins de sauvegarde
```

---

## FonctionnalitÃ©s dÃ©taillÃ©es

### Ã‰dition de texte

**FonctionnalitÃ©s de base** :
- Ã‰dition WYSIWYG avec coloration syntaxique
- Annuler/RÃ©tablir illimitÃ© (QTextEdit natif)
- SÃ©lection multi-ligne et par mots
- Auto-indentation des listes

**FonctionnalitÃ©s avancÃ©es** :
- Recherche et remplacement avec regex
- Navigation rapide (Ctrl+G pour ligne)
- Raccourcis Markdown (Ctrl+B pour **gras**)
- Comptage en temps rÃ©el (mots, caractÃ¨res, lignes)

### AperÃ§u HTML

**Rendu en temps rÃ©el** :
- Mise Ã  jour diffÃ©rÃ©e (300ms) pour optimiser performance
- Scroll synchronisÃ© entre Ã©diteur et aperÃ§u
- Rendu identique Ã  GitHub Pages

**Support Markdown Ã©tendu** :
- Tables avec tri et styling
- Blocs de code avec coloration syntaxique (20+ langages)
- Formules mathÃ©matiques (LaTeX via MathJax - extension future)
- Diagrammes (Mermaid - extension future)

### Gestion des fichiers

**Formats supportÃ©s** :
- `.md`, `.markdown` : Markdown standard
- `.txt` : Texte brut avec rendu Markdown
- Export `.html` avec CSS intÃ©grÃ©

### Gestion du rÃ©pertoire Journal

L'application gÃ¨re un rÃ©pertoire "Journal" pour stocker les notes quotidiennes.

**PrioritÃ© de configuration du rÃ©pertoire :**
1.  **Argument de ligne de commande** : `--journal "/chemin/vers/journal"`
2.  **Variable d'environnement** : `JOURNAL_DIRECTORY`
3.  **RÃ©pertoire par dÃ©faut** : `~/bluenotebook` (crÃ©Ã© s'il n'existe pas).

**FonctionnalitÃ©s du Journal :**
-   Au lancement, l'application ouvre automatiquement le fichier journal du jour (`YYYYMMJJ.md`).
-   La sauvegarde via "Fichier -> Sauvegarder" enregistre dans le fichier journal du jour. Si le fichier existe, l'utilisateur peut choisir de remplacer son contenu ou d'ajouter le nouveau contenu Ã  la fin.
-   Le menu "Fichier -> Ouvrir Journal" permet de sÃ©lectionner un nouveau rÃ©pertoire de journal Ã  la volÃ©e.
-   Le chemin du rÃ©pertoire journal est affichÃ© dans la barre de statut.

**FonctionnalitÃ©s** :
- DÃ©tection automatique de l'encodage (UTF-8, Latin-1)
- Sauvegarde automatique en arriÃ¨re-plan (future)
- Gestion des conflits de fichiers (future)
- Historique des modifications (future)

### Interface utilisateur

**Design system** :
- **Couleurs** : Palette cohÃ©rente basÃ©e sur Material Design
- **Typography** : HiÃ©rarchie claire avec Roboto/System fonts
- **Spacing** : Grille 8px pour cohÃ©rence visuelle
- **Iconography** : Icons Material Design via QIcon

**AccessibilitÃ©** :
- Support clavier complet
- Contraste WCAG AA compliant
- Screen reader compatible (QAccessible)
- Shortcuts standards de l'OS

### Aide en ligne

L'application inclut une documentation en ligne accessible via le menu `Aide -> Documentation en ligne`.
-   Le contenu de l'aide est un fichier HTML (`bluenotebook_aide_en_ligne.html`) situÃ© dans `resources/html/`.
-   Un clic sur l'option de menu ouvre ce fichier dans le navigateur web par dÃ©faut de l'utilisateur.
-   Cette approche permet de mettre Ã  jour facilement la documentation sans recompiler l'application.

### Scripts de lancement
### Citation du jour

Au lancement, l'application rÃ©cupÃ¨re une "citation du jour" depuis le site `citations.ouest-france.fr` en utilisant des techniques de web scraping (avec les bibliothÃ¨ques `requests` et `BeautifulSoup`).

-   **Affichage** : La citation et son auteur sont prÃ©sentÃ©s dans une boÃ®te de dialogue modale au dÃ©marrage.
-   **Insertion** : L'utilisateur peut insÃ©rer cette citation dans l'Ã©diteur via le menu `Formater -> InsÃ©rer -> Citation du jour`. Elle sera formatÃ©e en tant que citation Markdown (`>`).
-   **DÃ©pendances** : Cette fonctionnalitÃ© ajoute les dÃ©pendances `requests` et `beautifulsoup4` au projet.

### Scripts de lancement

-   **`run_bluenotebook.sh` (Linux/macOS)** :
    -   Active l'environnement virtuel.
    -   VÃ©rifie et installe les dÃ©pendances de `requirements.txt`.
    -   Lance l'application `main.py` en transmettant les arguments.



---

## Arborescence ComplÃ¨te des Menus

Voici une vue d'ensemble de tous les menus de l'application.

```text
ğŸ“ Fichier
â”œâ”€â”€ ğŸ“„ Nouveau
â”œâ”€â”€ ğŸ“‚ Ouvrir
â”œâ”€â”€ ğŸ““ Ouvrir Journal
â”œâ”€â”€ ---
â”œâ”€â”€ ğŸ’¾ Sauvegarder
â”œâ”€â”€ ğŸ’¾ Sauvegarder sous...
â”œâ”€â”€ ---
â”œâ”€â”€ ğŸŒ Exporter HTML...
â”œâ”€â”€ ---
â””â”€â”€ ğŸšª Quitter

âœï¸ Edition
â”œâ”€â”€ â†©ï¸ Annuler
â”œâ”€â”€ â†ªï¸ RÃ©tablir
â”œâ”€â”€ ---
â””â”€â”€ ğŸ” Rechercher

ğŸ‘ï¸ Affichage
â””â”€â”€ ğŸ‘ï¸ Basculer l'aperÃ§u

ğŸ¨ Formater
â”œâ”€â”€ ğŸ“œ Titres
â”‚   â”œâ”€â”€ 1ï¸âƒ£ Niv 1 (#)
â”‚   â”œâ”€â”€ 2ï¸âƒ£ Niv 2 (##)
â”‚   â”œâ”€â”€ 3ï¸âƒ£ Niv 3 (###)
â”‚   â”œâ”€â”€ 4ï¸âƒ£ Niv 4 (####)
â”‚   â””â”€â”€ 5ï¸âƒ£ Niv 5 (#####)
â”œâ”€â”€ ğŸ¨ Style de texte
â”‚   â”œâ”€â”€ ğŸ…±ï¸ Gras (**texte**)
â”‚   â”œâ”€â”€ *ï¸âƒ£ Italique (*texte*)
â”‚   â”œâ”€â”€ ~ BarrÃ© (~~texte~~)
â”‚   â””â”€â”€ ğŸ–ï¸ SurlignÃ© (==texte==)
â”œâ”€â”€ ï¿½ Code
â”‚   â”œâ”€â”€ ` Monospace (inline)
â”‚   â””â”€â”€ ``` Bloc de code
â”œâ”€â”€ ğŸ“‹ Listes
â”‚   â”œâ”€â”€ â€¢ Liste non ordonnÃ©e
â”‚   â”œâ”€â”€ 1. Liste ordonnÃ©e
â”‚   â””â”€â”€ â˜‘ï¸ Liste de tÃ¢ches
â”œâ”€â”€ â• InsÃ©rer
â”‚   â”œâ”€â”€ ğŸ”— Lien (URL ou email) (<url>)
â”‚   â”œâ”€â”€ ğŸ–¼ï¸ Image (<img ...>)
â”‚   â”œâ”€â”€ ğŸ”— Lien Markdown (texte)
â”‚   â”œâ”€â”€ ğŸ”— Fichier
â”‚   â”œâ”€â”€ â–¦ Tableau (|...|)
â”‚   â”œâ”€â”€ â– Ligne Horizontale (---)
â”‚   â”œâ”€â”€ ğŸ’¬ Citation (> texte)
â”‚   â”œâ”€â”€ âœ¨ Citation du jour
â”‚   â”œâ”€â”€ ğŸ·ï¸ Tag (@@)
â”‚   â””â”€â”€ ğŸ•’ Heure (HH:MM)
â”œâ”€â”€ ---
â””â”€â”€ ğŸ§¹ RaZ (Effacer le formatage)

â“ Aide
â”œâ”€â”€ ğŸŒ Documentation en ligne
â””â”€â”€ â„¹ï¸ Ã€ propos

```

## Performance et optimisations

### Optimisations mÃ©moire

```python
# Timer de mise Ã  jour diffÃ©rÃ©e
self.update_timer = QTimer()
self.update_timer.setSingleShot(True)  # Ã‰vite l'accumulation

# Reset du parser Markdown
self.md.reset()  # LibÃ¨re les rÃ©fÃ©rences circulaires

# Lazy loading des ressources
self.highlighter = MarkdownHighlighter(self.text_edit.document())
```

### Optimisations CPU

- **Coloration syntaxique incrÃ©mentale** : Seuls les blocs modifiÃ©s
- **Rendu HTML diffÃ©rÃ©** : Pas de rendu pendant la frappe rapide
- **Cache des expressions rÃ©guliÃ¨res** compilÃ©es
- **RÃ©utilisation des objets** QTextCharFormat

### Optimisations I/O

- **Lecture asynchrone** des gros fichiers (future)
- **Ã‰criture atomic** pour Ã©viter la corruption
- **DÃ©tection d'encodage** optimisÃ©e
- **Mise en cache** des fichiers rÃ©cents

### MÃ©triques de performance

| OpÃ©ration | Temps cible | Actual |
|-----------|-------------|--------|
| Ouverture fichier 1MB | < 100ms | ~50ms |
| Mise Ã  jour aperÃ§u | < 300ms | ~200ms |
| Coloration syntaxique | < 50ms | ~30ms |
| Sauvegarde | < 200ms | ~100ms |

---

## Ã‰volutions possibles

### FonctionnalitÃ©s core (PrioritÃ© haute)

#### 1. Mode sombre / ThÃ¨mes personnalisables
```python
class ThemeManager:
    themes = {
        'light': {...},
        'dark': {...},
        'high_contrast': {...}
    }
    
    def apply_theme(self, theme_name: str):
        # Application CSS dynamique
        # Mise Ã  jour des couleurs de coloration syntaxique  
        # Persistance des prÃ©fÃ©rences utilisateur
```

**Impact** : AmÃ©lioration significative de l'expÃ©rience utilisateur, rÃ©duction de la fatigue oculaire.

#### 2. Export PDF natif
```python
class PDFExporter:
    def export_to_pdf(self, html_content: str, output_path: str):
        # Utilisation de QWebEngine.printToPdf()
        # Styles CSS optimisÃ©s pour l'impression
        # Gestion des marges et en-tÃªtes/pieds de page
```

**Technologies** : QWebEngine, QPrinter, ou WeasyPrint pour rendu avancÃ©.

#### 3. Gestion de projets multi-fichiers
```python
class ProjectManager:
    def __init__(self):
        self.project_tree = {}  # Arbre des fichiers
        self.watcher = QFileSystemWatcher()  # Surveillance changements
        
    def open_project(self, project_path: str):
        # Navigation dans l'arborescence
        # Index de recherche full-text
        # GÃ©nÃ©ration site statique Jekyll/Hugo
```

### FonctionnalitÃ©s avancÃ©es (PrioritÃ© moyenne)

#### 4. AperÃ§u synchronisÃ© avec scroll liÃ©
```python
class SyncedPreview(MarkdownPreview):
    def sync_scroll_position(self, editor_position: float):
        # Calcul de correspondance ligne â†” Ã©lÃ©ment HTML
        # Animation fluide du scroll
        # PrÃ©servation du contexte visuel
```

**DÃ©fis techniques** : Mapping prÃ©cis entre texte source et DOM, gestion des Ã©lÃ©ments de tailles variables.

#### 5. Support LaTeX/MathJax pour formules mathÃ©matiques
```python
# Extension Markdown personnalisÃ©e
class MathExtension(Extension):
    def extendMarkdown(self, md):
        # Pattern recognition : $inline$ et $$block$$  
        # Rendu MathJax dans QWebEngine
        # Cache des formules compilÃ©es
```

**Exemple** :
```markdown
La formule d'Einstein : $E = mc^2$

$$\int_{-\infty}^{\infty} e^{-x^2} dx = \sqrt{\pi}$$
```

#### 6. Plugin system pour extensions
```python
class PluginManager:
    def load_plugin(self, plugin_path: str):
        # Chargement dynamique des modules Python
        # API standardisÃ©e pour extensions
        # Sandbox de sÃ©curitÃ©
        
class PluginAPI:
    # Interface pour dÃ©veloppeurs tiers
    def add_menu_item(self, name: str, callback: callable): ...
    def register_parser(self, extension: str, parser: callable): ...
    def add_export_format(self, format: str, exporter: callable): ...
```

### FonctionnalitÃ©s collaboratives (PrioritÃ© faible)

#### 7. Collaboration temps rÃ©el
```python
class CollaborationEngine:
    def __init__(self):
        self.websocket = WebSocketClient()
        self.operational_transform = OTEngine()
        
    def send_delta(self, change: TextDelta):
        # Operational Transform pour rÃ©solution conflits
        # Synchronisation WebSocket
        # Affichage curseurs collaborateurs
```

**Technologies** : WebSocket, Operational Transform, serveur Node.js/Python.

#### 8. Mode prÃ©sentation (reveal.js)
```python
class PresentationMode:
    def export_slides(self, markdown_content: str):
        # Conversion Markdown â†’ reveal.js
        # ThÃ¨mes de prÃ©sentation
        # Export standalone HTML
        # Mode plein Ã©cran avec contrÃ´les clavier
```

**SÃ©parateurs de slides** :
```markdown
# Slide 1
Contenu...

---

# Slide 2  
Autre contenu...
```

### AmÃ©liorations techniques

#### 9. Architecture modulaire avancÃ©e
```python
# SystÃ¨me d'Ã©vÃ©nements dÃ©couplÃ©
class EventBus:
    def emit(self, event: str, data: Any): ...
    def subscribe(self, event: str, handler: callable): ...

# Injection de dÃ©pendances
class DIContainer:
    def register(self, interface: type, implementation: type): ...
    def resolve(self, interface: type) -> Any: ...
```

#### 10. Performance et optimisations

**Rendu incrÃ©mental** :
```python
class IncrementalRenderer:
    def __init__(self):
        self.dom_diff = DOMDiffer()
        
    def update_preview(self, old_html: str, new_html: str):
        # Calcul diffÃ©rentiel DOM
        # Mise Ã  jour sÃ©lective des Ã©lÃ©ments
        # PrÃ©servation du state (scroll, sÃ©lections)
```

**Lazy loading** :
```python
class LazyImageLoader:
    def process_images(self, html: str) -> str:
        # Remplacement <img> par placeholders
        # Chargement progressif au scroll
        # Cache intelligent des images
```

### IntÃ©grations ecosystem

#### 11. IntÃ©gration Git
```python
class GitIntegration:
    def __init__(self, repo_path: str):
        self.repo = git.Repo(repo_path)
        
    def show_diff(self, file_path: str):
        # Affichage diffÃ©rences dans interface
        # Gutter avec ajouts/suppressions
        # Commit et push directement depuis l'Ã©diteur
```

#### 12. Support cloud (GitHub, GitLab, Notion)
```python
class CloudSync:
    def sync_with_github(self, repo_url: str):
        # API GitHub pour synchronisation
        # Gestion des conflits automatique
        # Publication GitHub Pages
        
    def export_to_notion(self, page_id: str):
        # Conversion Markdown â†’ blocs Notion
        # Synchronisation bidirectionnelle
```

---

## Conclusion

BlueNotebook reprÃ©sente une architecture moderne et extensible pour un Ã©diteur Markdown. Les choix techniques (PyQt5, QWebEngine, python-markdown) offrent un Ã©quilibre optimal entre performance, fonctionnalitÃ©s et maintenabilitÃ©.

L'architecture modulaire permet une Ã©volution progressive vers un Ã©cosystÃ¨me complet d'Ã©dition technique, tout en conservant la simplicitÃ© d'usage qui fait le succÃ¨s des Ã©diteurs Markdown.

Les Ã©volutions proposÃ©es transformeraient BlueNotebook d'un Ã©diteur simple vers une plateforme complÃ¨te de documentation et collaboration technique, positionnÃ©e entre des outils comme Typora (simplicitÃ©) et Obsidian (fonctionnalitÃ©s avancÃ©es).

**Vision long terme** : Devenir la rÃ©fÃ©rence des Ã©diteurs Markdown pour dÃ©veloppeurs et rÃ©dacteurs techniques, avec un Ã©cosystÃ¨me de plugins riche et une communautÃ© active.

---

*Documentation technique v1.1.6 - BlueNotebook*  
*GÃ©nÃ©rÃ©e le : 19 Septembre 2025*