## fonctionnalité Template

voir aussi https://github.com/jendrikseipp/rednotebook/blob/master/rednotebook/templates.py

dans le dossier ressources/templates il y a des fichiers au format Markdown qui sont les templates de documents

dans la barre de menu  après affichage il in a une entrée "Templates" qui va etre une liste deroulante des nom de fichiers templates trouvés dans le dossier ressources/templates.

Dès qu'un utilisateur sélectionne un nom de fichier dans la liste deroulante le contenu du fichier template va etre injecté dans le document Markdown courant

dans la liste déroulante du menu Fichiers on va rajouter deux choix

- Ouvrir Template ... qui va ouvrir le dossier template et permettre a un utilisateur d'éditer une template existante

- Sauvegarder Template ... qui va permettre à un utilisateur de sauvegarder le fichier Markdown en cours d'édition dans le dossier template

Les templates doivent pouvoir parsées
- $date$ --> remplacé par la date du jour au format JJ/MM/YYYY
- $heure$ --> remplacé par l'heure du jour au format HH:MM

le parsing et donc la substitution aura lieu au moment de l'injection de la template dans le document courant

Créer une template pour le suivi d'un appel téléphonique appelée appel.md avec les éléments $date$ $heure$, sujet, Numéro de l'interlocuteur, entrant ou sortant Numéro de l'interlocuteur, objet, Point 1, Point 2, Point3 et commentaires


Créer une template appelée todo.md avec comme titre Todo $date$ 
Un sous titre "Activités & Notes" 
 

## gestion numéro de version DONE

Un numéro de version de l'application est défini dans l'application dans le fichier main.py à la ligne
app.setApplicationVersion("1.1.0")
C'est ce numero , défini à cette ligne qu'il faudra utiliser de manière globale
Ce numero de version sera affiché dans la barre de fenetre a coté de BlueNotebook comme suit BlueNotebook V1.1.0" par exemple.
Ce numero de version sera également affiché dans la boite de dialogue à propos
Ce numero de version sera affiche au lancement de l'application dans le terminal sous la forme "*** Lancement de l'application BlueNotebook V1.1.0 ***" par exemple
Lorsque le numéro est modifié dans l'application dans le fichier main.py par 
app.setApplicationVersion("1.1.0") ce numéro sera modifié partout

## gestion du répertoire du journal DONE

Par défaut le répertoire de stockage du journal est créé dans le repertoire utilisateur et se nomme bluenotebook. 

Le répertoire du journal est positionné soit par une variable d'nvironnement JOURNAL_DIRECTORY sous Linix, soit passé comme paramètre optionnel sur la ligne de commande lors du lancement du journal -j ou --journal "répertoire du journal"

Au lancement de l'application on vérifira qu'un de ces cas est vrai
- il y   une variable d'environnement JOURNAL_DIRECTORY qui pointe vers un répertoire qui existe
- un paramtre de la ligne de commande au lancement est -j ou --journal "répertoire" qui pointe sur un répertoire qui existe
- un répertoire du journal existe  dans le repertoire utilisateur et se nomme bluenotebook
- si aucun de ces cas est vrai on crée un répertoire journal dans le répertoire utilisateur et se nomme bluenotebook

Le réperttoire du journal sera affiché dans la barre de texte tout en bas de l'application à coté du nom de fichier ouvert

un fichier journal contient des fichiers au format Markdown dont le nom de fichier est sous la forme YYYYMMJJ.md

Quand on sauvegarde un nouveau fichier par le Menu Fichier->Sauvergarde le fichier en cours sera sauvegardé dans le répertoire du journal automatiquement sous la le nom YYYYMMJJ.md 
Si un fichier existe déja sous ce nom là le contenu du fichier courant sera ajouté à la fin du fichier existant ou remplacera le fichier existant. Une boite de dialogue  permettra à l'utilisateur de sélectionner lors de la sauvegarde "Fichier Journal déja existant --> choix Remplacer ou Ajouter à la fin"

Dans le Menu Fichiers en dessous "Ouvrir" sera créé un  nouvel item qui est "Ouvrir Journal" qui permet de forcer le choix d'un répertoire comme répertoire Jource. Cette action prendra le pas sur toutes les autres possibilités. Le répertoire sélectionné sera affiché dans la barre de texte tout en bas de la fenetre de l'application à coté du nom de fichier ouvert

Lors du lancement de l'application vérifier s'il existe un fichier journal dans le répertoire du journal qui porte la date du jour c'est a dire dans le format YYYYMMJJ.md. Si c'est le cas ouvrir ce fichier

Au lancement de l'application afficher le répertoire journal dans le terminal


## tagging

Il est possible de tagger certains mots el les préfixant du signe # collé devant le mot sans espace

Chaque fois que l'on va ouvrir un fichier Journal on va parser tous les fichiers du journal pour trouver les tags et construire une liste de tag.  
les tags sont uniques pas de doublons.
Pour chaque tag on va enregistrer dans la liste de tags le nom du ou des fichiers journaux dans lesquels il apparait dans ce répertoire journal.
Les tags seront ensuite triés en fonction du nombre de fichiers dans lesquels ils apparaisent.

les tags seront affichés dans fenetre de l'editeur markdown en rouge.

Lors de la sauvegarde d'un fichier journal c'est a dire un fichier Markdown sauvegardé dans le répertoire du journal on reindexera le fichier des tags.

dans la barre de texte en bas de la fenetre principale de l'application on affichera le nombres de tags "Tags: XX" 

### TODO


## fichier aide

Dans le menu Aide en plus de A propos il faut ajoute en premier un choix de menu qui est "Aide en ligne" et afficher dans une fenètre séparée une page HTML qui est dans le répertoire "ressources / help " du projet et qui s'appele aide_en_ligne.html

<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="utf-8">
<title>Bluenotebook Documentation</title>

<body>
<header>
<hgroup>
<h1>RedNotebook Documentation</h1>
<h2>1.0</h2>
</hgroup>
</header>

</body>
</html>


## inclure une citation en haut de charqie page journal

Webscapping http://evene.lefigaro.fr/citations/citation-jour.php

Insert Lien 


## Ajout Menu Formatter 

dans la barre de Menu principale après Affichage ajourter Formatter. C'est un menu déroulant avec les choix suivants

- Titre Niv 1
- Titre Niv 2
- Titre Niv 3
- Gras
- Italique
- Monospace
- Bloc de code  
- Barré
- Citation
- Liste rdonnée
- Liste non ordonnée
- URL ou email
- image
- Inline
- RaZ 

Pour chacun de ses choix on va récuperer le texte sélectionné dans l'editeur Markdown et on va a ce fragment la syntaxe Markdown appropriée.
Si l'on sélectionne le mot "Important" il sera remplacé dans l'éditeur par "**Important**" et ainsi de suite.
La sélection peut conserner un mots, un emsemble d mots ou plusieurs phrases contigues.
Il est possible de surcharger un format par exemple un mot déjà en Gras peut aussi être mis en italique.

Pour le choix "URL ou email" il faut encadrer le mot avec < et > par exemple jmdigne@gmail.com devient <jmdigne@gmail.com> et l'URL http://jmdigne.free.fr devien <http://jmdigne.free.fr>

pour le choix image il faut prendre l'URL de l'image par exemple https://doimages.nyc3.cdn.digitaloceanspaces.com/002Blog/0-BLOG-BANNERS/app_platform.png et la transformer en <img src="https://doimages.nyc3.cdn.digitaloceanspaces.com/002Blog/0-BLOG-BANNERS/app_platform.png" width="400">. La valeur 400 sera proposée par defaut.

le dernier choix RaZ est la suppression de tout élément de formattage dans la séléction pour revenir à  un mot, plusieurs mots consécutifs, une phrase ou plusieurs phrases sans ausun formattage Markdown mais les TAB et retour à la ligne sont concervés bien sûr.

générer égalements les tests appropriés.

Regrouper les troix choix Titre Niv 1 , 2, 3 et de les regrouper dans un sous menu dont le label est Titre

Proposition de réorganisation du menu
Pour intégrer ces nouveautés et améliorer la clarté, vous pourriez réorganiser le menu "Formater" comme ceci :

Proposition de réorganisation du menu
Pour intégrer ces nouveautés et améliorer la clarté, vous pourriez réorganiser le menu "Formater" comme ceci :

Titre (sous-menu)
Niv 1 à 5
Style de texte
Gras
Italique
Barré
Surligné
Code
Monospace (inline)
Bloc de code
Listes
Liste non ordonnée
Liste ordonnée
Liste de tâches
Insérer
Lien (URL ou email)
Image
Tableau
Ligne Horizontale
Citation
--- (séparateur)
RaZ (Effacer le formatage)

Surligner : la syntaxe ==texte== n'est pas une fonctionnalité standard de Markdown. Pour qu'elle soit reconnue et affichée correctement dans l'aperçu, il faut ajouter une extension spécifique au processeur Markdown.

L'extension qui gère cela s'appelle pymdownx.mark.
Activation de l'extension : En ajoutant 'pymdownx.mark' à la liste des extensions, le convertisseur Markdown saura désormais transformer ==texte== en balise HTML <mark>texte</mark>.
Ajout du style CSS : J'ai ajouté un style pour la balise <mark> afin que le texte surligné apparaisse avec un fond jaune, ce qui est la convention habituelle.
2. Mettre à jour les dépendances
Pour que l'extension fonctionne, la bibliothèque pymdown-extensions doit être installée. Elle est déjà présente dans votre fichier requirements.txt, donc une simple réinstallation des dépendances suffira.

barré:  ajouter l'extension nécessaire et le style CSS correspondant pour que le texte barré fonctionne.

Explication des modifications
Activation de l'extension pymdownx.tilde : Dans le fichier bluenotebook/gui/preview.py, j'ajoute 'pymdownx.tilde' à la liste des extensions Markdown. Cette extension permet de reconnaître la syntaxe ~~texte~~ et de la convertir en balise HTML <del>texte</del>.

Ajout du style CSS : J'ajoute une règle CSS pour la balise <del> dans le template HTML de bluenotebook/gui/preview.py afin que le texte soit visuellement barré.

Mise à jour de la dépendance : L'extension pymdownx.tilde fait partie de la bibliothèque pymdown-extensions, qui est déjà dans votre requirements.txt. Une simple réinstallation des dépendances (pip install -r requirements.txt) suffira si elle n'est pas à jour.



